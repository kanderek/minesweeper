<!DOCTYPE html>
<html>
<head>
</head>

<body>

<table id="mine-field">
</table>

<script src="js/Grid.js"></script>
<script src="js/MineField.js"></script>
<script src="js/MineSweeper.js"></script>
<script>
	var minesweeper = new MineSweeper(8, 8, 10, "mine-field");

	minesweeper.domElement.addEventListener("click", handleChange, false);

	function handleChange(event) {
		console.log(event.target);
		if(event.target.id){
			var index = event.target.id.slice(5);
			minesweeper.markPlayersMineMap(index);
			minesweeper.syncDom();
			if(minesweeper.isFieldClear()){
				console.log("You win");
			}
			event.target.nextSibling.innerHTML = minesweeper.mineField.field.tileValue(index);
		}
		if(event.shiftKey){
			console.log("shift key was held down");
		}
	}

</script>
</body>

</html>